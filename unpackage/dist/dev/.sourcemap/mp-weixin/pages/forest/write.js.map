{"version":3,"sources":["uni-app:///main.js","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?2d26","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?4ff4","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?873c","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?53fd","uni-app:///pages/forest/write.vue","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?bb00","webpack:///C:/workspace/zuosuo/shudong-master/pages/forest/write.vue?baaa"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,8F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAypB,CAAgB,upBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyF7qB,+G;;;AAGA;AACA;AACA,4BADA;AAEA,4BAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA;AACA,gBAFA;AAGA,qDAHA;AAIA,iBAJA;AAKA,uBALA;AAMA,iBANA;AAOA,uBAPA;AAQA;AACA,0BADA;AAEA,4BAFA,EARA;;AAYA;AACA,oBADA;AAEA,yBAFA;AAGA;AACA,oBADA;AAEA,yBAFA,EAHA,CAZA;;AAmBA,0BAnBA;AAoBA,mCApBA;AAqBA,0BArBA;AAsBA,mCAtBA;AAuBA;AACA,4CADA,EAvBA;;AA0BA,kBA1BA;AA2BA,uDA3BA;AA4BA;AACA,sCADA;AAEA,qCAFA;AAGA,qCAHA;AAIA,yBAJA,EA5BA;;AAkCA;AACA,sCADA;AAEA,qCAFA;AAGA,qCAHA;AAIA,yBAJA,EAlCA;;AAwCA;AACA,4BADA;AAEA,0BAFA;AAGA,+BAHA,EAxCA;;AA6CA;AACA,oBADA;AAEA,sBAFA;AAGA,sDAHA,EA7CA;;AAkDA;AACA,sBADA;AAEA,qDAFA,EAlDA;;AAsDA;AACA,mBADA,EAtDA;;AAyDA,uBAzDA;;AA2DA,GAjEA;AAkEA,cAlEA;;;AAqEA,SArEA,qBAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5EA;AA6EA,QA7EA,kBA6EA,KA7EA,EA6EA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA,OARA;AASA;AACA;AACA,GAhHA;AAiHA;AACA,eADA,yBACA;AACA;AACA;AACA;AACA,KALA;AAMA,cANA,sBAMA,MANA,EAMA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA,cAZA,sBAYA,MAZA,EAYA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA,iBAzBA,yBAyBA,CAzBA,EAyBA;AACA;AACA;AACA;AACA;AACA;AACA,KA/BA;AAgCA,iBAhCA,yBAgCA,CAhCA,EAgCA;AACA;AACA;AACA,KAnCA;AAoCA,eApCA,yBAoCA;AACA;AACA;AACA;AACA,KAxCA;AAyCA,eAzCA,yBAyCA;AACA;AACA;AACA,KA5CA;AA6CA;AACA,UA9CA,oBA8CA;AACA;;AAEA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,mCADA;AAEA,2CAFA;AAGA,yCAHA;AAIA,sDAJA;AAKA,6BALA;AAMA,iCANA;;;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA,eADA;AAEA,0BAFA;;AAIA,OALA,MAKA;AACA;AACA;AACA,eADA;AAEA,wBAFA;AAGA,2BAHA;;AAKA;AACA;;AAEA;AACA,kBADA;AAEA,qBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA,WAHA,EAGA,GAHA;AAIA,SALA,MAKA;AACA;AACA;AACA,yBADA;AAEA,kCAFA;AAGA,0BAHA;;AAKA;AACA,OArBA,EAqBA,KArBA,CAqBA;AACA;AACA;AACA;AACA;AACA;AACA,OA3BA;AA4BA,KAtHA;AAuHA,cAvHA,wBAuHA;AACA;AACA;AACA;AACA,uBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA;AACA,OArBA,EAqBA,KArBA,CAqBA;AACA;AACA;AACA,OAxBA,EAwBA,OAxBA,CAwBA,cAxBA;AAyBA,KAnJA;AAoJA;AACA;AACA,iBAtJA,yBAsJA,IAtJA,EAsJA,KAtJA,EAsJA,KAtJA,EAsJA,IAtJA,EAsJA;AACA;AACA;AACA;AACA;AACA;AACA,KA5JA;AA6JA,eA7JA,uBA6JA,GA7JA,EA6JA,KA7JA,EA6JA,KA7JA,EA6JA;AACA;AACA;AACA;AACA;AACA,KAlKA;AAmKA;AACA,gBApKA,wBAoKA,KApKA,EAoKA,KApKA,EAoKA,IApKA,EAoKA;AACA;AACA,KAtKA;AAuKA;AACA,UAxKA,oBAwKA;AACA;AACA,KA1KA;AA2KA,UA3KA,kBA2KA,SA3KA,EA2KA;AACA;AACA;AADA;AAGA,KA/KA;AAgLA,iBAhLA,2BAgLA;AACA;AACA;AACA;AACA,oCADA;;AAGA,OALA,EAKA,IALA;AAMA,KAvLA;AAwLA;AACA,eAzLA,yBAyLA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA,SAHA;;AAKA,KAhMA,EAjHA,E;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAk8B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;ACAt9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/forest/write.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/forest/write.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./write.vue?vue&type=template&id=1f4745e6&\"\nvar renderjs\nimport script from \"./write.vue?vue&type=script&lang=js&\"\nexport * from \"./write.vue?vue&type=script&lang=js&\"\nimport style0 from \"./write.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/forest/write.vue\"\nexport default component.exports","export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./write.vue?vue&type=template&id=1f4745e6&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    uSwitch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-switch/u-switch\" */ \"@/uview-ui/components/u-switch/u-switch.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./write.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./write.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<u-navbar back-text=\"\" title=\"写给树洞的信\" :isBack='true' :imgwidth=\"imgsize\" :imgheight=\"imgsize\"\r\n\t\t\t:srcleft=\"srcleft\">\r\n\t\t</u-navbar>\r\n\t\t<view class=\"u-edit-b\" style=\"border: none!important;\">\r\n\t\t\t<view class=\"edit-body\">\r\n\r\n\t\t\t\t<!-- <u-input placeholder=\"把开心和不开心说出来会缓解很多奥~\" v-model=\"model.content\" type=\"textarea\" :height=\"200\"\r\n\t\t\t\t\t:auto-height=\"true\" :customStyle=\"customStyle\" maxlength=\"512\"></u-input> -->\r\n\t\t\t\t<!-- <u-input placeholder=\"把开心和不开心说出来会缓解很多奥~\" v-model=\"model.content\" type=\"textarea\" :height=\"200\"\r\n\t\t\t\t\t:auto-height=\"true\" :customStyle=\"customStyle\"></u-input> -->\r\n\r\n\t\t\t\t<editor id=\"editor\" class=\"ql-container\" placeholder=\"把开心和不开心说出来会缓解很多奥\" @ready=\"onEditorReady\"\r\n\t\t\t\t\t@input=\"getContents\" @blur=\"getContents\"></editor>\r\n\r\n\r\n\t\t\t\t<view style=\"height: 20rpx;\"></view>\r\n\r\n\t\t\t\t<u-upload :action=\"action\" :file-list=\"fileList\" :header=\"header\" width=\"160\" height=\"160\" max-count=\"9\"\r\n\t\t\t\t\t@on-remove=\"uploadRemove\" @on-success=\"uploadSuccess\" @on-error=\"uploadError\"></u-upload>\r\n\r\n\t\t\t\t<view class=\"u-f-a\">\r\n\t\t\t\t\t<u-tag display=\"flex\" size=\"large\" bgColor=\"#F5F5F5\" shape=\"circle\" :text=\"label.tag\" mode=\"plain\"\r\n\t\t\t\t\t\tborderColor=\"#EDEDED\" @tap=\"chooseLabel\">\r\n\t\t\t\t\t\t<view slot=\"img\" style=\"width: 38rpx;height: 38rpx;margin-right: 10rpx;\">\r\n\t\t\t\t\t\t\t<image :src=\"label.url\" mode=\"aspectFit\" style=\"width: 38rpx;height: 38rpx;\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-tag>\r\n\t\t\t\t\t<u-tag display=\"flex\" size=\"large\" bgColor=\"#F5F5F5\" shape=\"circle\" :text=\"moods.title\" mode=\"plain\"\r\n\t\t\t\t\t\tborderColor=\"#EDEDED\" @tap=\"chooseMoods\">\r\n\t\t\t\t\t\t<view slot=\"img\" style=\"width: 38rpx;height: 38rpx;margin-right: 10rpx;\">\r\n\t\t\t\t\t\t\t<image :src=\"moods.url\" mode=\"aspectFit\" style=\"width: 38rpx;height: 38rpx;\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-tag>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"u-f-aj\" style=\"margin: 20rpx; padding-bottom: 20rpx;border-bottom: 1rpx solid #CCCCCC;\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"cell-title\">{{functitle[0].name}}</view>\r\n\t\t\t\t\t<view class=\"cell-title-sub\">{{functitle[0].desc}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<!-- <switch :checked=\"switchChecked1\" color=\"#AE9F82\" @change=\"switchChange1\"\r\n\t\t\t\t\t\tstyle=\"transform:scale(0.8)\" /> -->\r\n\t\t\t\t\t<u-switch size=\"54\" v-model=\"switchChecked1\" @change=\"switchChange1\" :text=\"switchText1\">\r\n\t\t\t\t\t</u-switch>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"u-f-aj\" style=\"margin: 20rpx; padding-bottom: 20rpx; border-bottom: 1rpx solid #CCCCCC;\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"cell-title\">{{functitle[1].name}}</view>\r\n\t\t\t\t\t<view class=\"cell-title-sub\">{{functitle[1].desc}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<!-- <switch :checked=\"switchChecked2\" color=\"#AE9F82\" @change=\"switchChange2\"\r\n\t\t\t\t\t\tstyle=\"transform:scale(0.8)\" /> -->\r\n\t\t\t\t\t<u-switch size=\"54\" v-model=\"switchChecked2\" @change=\"switchChange2\" :text=\"switchText2\"\r\n\t\t\t\t\t\t:disabled=\"!switchChecked1\">\r\n\t\t\t\t\t</u-switch>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"u-f-btn\">\r\n\t\t\t<view class=\"u-f-ajr\" style=\"margin-right: 30rpx;\">\r\n\t\t\t\t<u-button shape=\"circleLeft\" :customStyle=\"btnLeftStyle\" @click=\"cancel\">取 消\r\n\t\t\t\t</u-button>\r\n\t\t\t\t<u-button shape=\"circleRight\" :customStyle=\"btnRightStyle\" :disabled=\"enableBtn2\" @click=\"submit\">\r\n\t\t\t\t\t投入树洞\r\n\t\t\t\t</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<u-popup v-model=\"showpopup1\" mode=\"center\" width=\"100%\" height=\"100%\">\r\n\t\t\t<ChooseMoods @close=\"closemoods\" ref=\"moods\"></ChooseMoods>\r\n\t\t</u-popup>\r\n\r\n\t\t<u-popup v-model=\"showpopup2\" mode=\"center\" width=\"100%\" height=\"100%\">\r\n\t\t\t<ChooseLabel @cancel=\"cancelLabel\" @close=\"closelabel\" ref=\"label\"></ChooseLabel>\r\n\t\t</u-popup>\r\n\r\n\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport configService from '@/common/service/config.service.js';\r\n\timport ChooseMoods from '@/compoents/common/choose-moods.vue';\r\n\timport ChooseLabel from '@/compoents/common/choose-label.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tChooseMoods,\r\n\t\t\tChooseLabel\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 查找替换用Id\r\n\t\t\t\tinfoID: '',\r\n\t\t\t\tsrcleft: '../../../static/treehole/my/back.png',\r\n\t\t\t\timgsize: 46,\r\n\t\t\t\tshowpopup1: false,\r\n\t\t\t\tmoodsIdx: 0,\r\n\t\t\t\tshowpopup2: false,\r\n\t\t\t\tcustomStyle: {\r\n\t\t\t\t\t\"color\": \"#666666\",\r\n\t\t\t\t\t\"font-size\": \"30rpx\"\r\n\t\t\t\t},\r\n\t\t\t\tfunctitle: [{\r\n\t\t\t\t\tname: '谁可以看',\r\n\t\t\t\t\tdesc: '是否公开显示在林间'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '显示笔名',\r\n\t\t\t\t\tdesc: '是否在林间显示笔名'\r\n\t\t\t\t}],\r\n\t\t\t\tswitchChecked1: true,\r\n\t\t\t\tswitchText1: ['私 密 ', ' 公 开'],\r\n\t\t\t\tswitchChecked2: true,\r\n\t\t\t\tswitchText2: ['匿 名 ', ' 显 示'],\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'token': uni.getStorageSync(\"token\")\r\n\t\t\t\t},\r\n\t\t\t\tfileList: [],\r\n\t\t\t\taction: configService.apiUrl + '/upload',\r\n\t\t\t\tbtnLeftStyle: {\r\n\t\t\t\t\t'border': '1rpx solid #AE9F82',\r\n\t\t\t\t\t'background-color': '#FFFFFF',\r\n\t\t\t\t\t'color': '#AE9F82 !important',\r\n\t\t\t\t\t'width': '200rpx'\r\n\t\t\t\t},\r\n\t\t\t\tbtnRightStyle: {\r\n\t\t\t\t\t'border': '1rpx solid #AE9F82',\r\n\t\t\t\t\t'background-color': '#AE9F82',\r\n\t\t\t\t\t'color': '#FFFFFF !important',\r\n\t\t\t\t\t'width': '200rpx'\r\n\t\t\t\t},\r\n\t\t\t\tcustomStyleTitle: {\r\n\t\t\t\t\t'font-size': '32rpx',\r\n\t\t\t\t\t'color': '#363D50',\r\n\t\t\t\t\t'font-weight': 'bolder',\r\n\t\t\t\t},\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\ttag: '请选择标签',\r\n\t\t\t\t\tchecked: false,\r\n\t\t\t\t\turl: '../../static/treehole/cike-biaoqian.png'\r\n\t\t\t\t},\r\n\t\t\t\tmoods: {\r\n\t\t\t\t\ttitle: '此刻的心情',\r\n\t\t\t\t\turl: '../../static/treehole/cike-xinqing.png'\r\n\t\t\t\t},\r\n\t\t\t\tmodel: {\r\n\t\t\t\t\tcontent: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tenableBtn2: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// this.model.images.map((item) => {\r\n\t\t\t// \tlet _temp = {\r\n\t\t\t// \t\turl: item\r\n\t\t\t// \t}\r\n\t\t\t// \tthis.fileList.push(_temp)\r\n\t\t\t// })\r\n\t\t},\r\n\t\tonLoad(event) {\r\n\t\t\tlet _params = event.params || event.payload;\r\n\t\t\tif (!!_params) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar _detail = JSON.parse(decodeURIComponent(_params));\r\n\t\t\t\t\tthis.infoID = _detail.id\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tvar _detail = JSON.parse(_params);\r\n\t\t\t\t\tthis.infoID = _detail.id\r\n\t\t\t\t}\r\n\t\t\t\tconsole.info(\"onLoad:::\", _detail);\r\n\t\t\t\tthis.model.id = _detail.id;\r\n\t\t\t\tthis.model.content = _detail.content;\r\n\t\t\t\tif (!!_detail.label_tag) {\r\n\t\t\t\t\tthis.label.tag = _detail.label_tag;\r\n\t\t\t\t\tthis.label.checked = true\r\n\t\t\t\t}\r\n\t\t\t\tif (!!_detail.mood_code) {\r\n\t\t\t\t\tthis.moods.title = _detail.mood_tag;\r\n\t\t\t\t\tthis.moods.code = _detail.mood_code;\r\n\t\t\t\t\tthis.moods.url = _detail.mood_emoj\r\n\t\t\t\t}\r\n\t\t\t\tthis.switchChecked1 = _detail.is_private === 0 ? false : true;\r\n\t\t\t\tthis.switchChecked2 = _detail.nick_show === 0 ? false : true;\r\n\t\t\t\t_detail.images.map((item,index) => {\r\n\t\t\t\t\t// let _temp = {\r\n\t\t\t\t\t// \turl: item\r\n\t\t\t\t\t// };\r\n\t\t\t\t\tthis.fileList.push({\r\n\t\t\t\t\t\turl: item,\r\n\t\t\t\t\t\t// name:`img`+index\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.fileList,'this.fileList')\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcancelLabel() {\r\n\t\t\t\tthis.label.tag = '请选择标签';\r\n\t\t\t\tthis.label.checked = false;\r\n\t\t\t\tthis.showpopup2 = false\r\n\t\t\t},\r\n\t\t\tcloselabel(record) {\r\n\t\t\t\tthis.label.tag = record.tag;\r\n\t\t\t\tthis.label.id = record.id;\r\n\t\t\t\tthis.label.checked = true;\r\n\t\t\t\tthis.showpopup2 = false\r\n\t\t\t},\r\n\t\t\tclosemoods(record) {\r\n\t\t\t\tthis.moodsIdx = record.idx;\r\n\t\t\t\tif (record.code === 'cancel') {\r\n\t\t\t\t\tthis.moods.title = '此刻的心情';\r\n\t\t\t\t\tthis.moods.url = '../../static/treehole/cike-xinqing.png';\r\n\t\t\t\t\tthis.moods.code = ''\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.moods.title = record.title;\r\n\t\t\t\t\tthis.moods.url = record.url;\r\n\t\t\t\t\tthis.moods.code = record.code\r\n\t\t\t\t}\r\n\t\t\t\tthis.showpopup1 = false\r\n\t\t\t},\r\n\t\t\tswitchChange1(e) {\r\n\t\t\t\tconsole.info(\"switchChange1::\", e);\r\n\t\t\t\tthis.switchChecked1 = e;\r\n\t\t\t\tif (!e) {\r\n\t\t\t\t\tthis.switchChecked2 = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tswitchChange2(e) {\r\n\t\t\t\tconsole.info(\"switchChange2::\", e);\r\n\t\t\t\tthis.switchChecked2 = e\r\n\t\t\t},\r\n\t\t\tchooseLabel() {\r\n\t\t\t\tthis.$refs.label.title = this.label.title;\r\n\t\t\t\tthis.$refs.label.initData();\r\n\t\t\t\tthis.showpopup2 = true\r\n\t\t\t},\r\n\t\t\tchooseMoods() {\r\n\t\t\t\tthis.$refs.moods.currIdx = this.moodsIdx;\r\n\t\t\t\tthis.showpopup1 = true\r\n\t\t\t},\r\n\t\t\t// 提交\r\n\t\t\tsubmit() {\r\n\t\t\t\tconst that = this;\r\n\r\n\t\t\t\tlet _images = [];\r\n\t\t\t\tthat.fileList.map((item) => {\r\n\t\t\t\t\t_images.push(item.url)\r\n\t\t\t\t});\r\n\t\t\t\tthis.getContents();\r\n\t\t\t\tlet _url = \"/hole/note/create\";\r\n\t\t\t\tlet _params = {\r\n\t\t\t\t\tcontent: that.model.content,\r\n\t\t\t\t\tisSelf: that.switchChecked1 ? 1 : 0,\r\n\t\t\t\t\tnick: that.switchChecked2 ? 1 : 0,\r\n\t\t\t\t\tlabel: that.label.checked ? that.label.id : \"\",\r\n\t\t\t\t\tmood: that.moods.code,\r\n\t\t\t\t\timages: _images.join(\",\")\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tif (_params.images.indexOf(\"wxfile://\") > -1) {\r\n\t\t\t\t\tthat.$u.toast(\"图片正在上传，请稍后\");\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!that.model.id) {\r\n\t\t\t\t\t_params = {\r\n\t\t\t\t\t\t..._params,\r\n\t\t\t\t\t\tmethod: 'create'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_url = \"/hole/note/edit\";\r\n\t\t\t\t\t_params = {\r\n\t\t\t\t\t\t..._params,\r\n\t\t\t\t\t\tmethod: 'edit',\r\n\t\t\t\t\t\tid: that.model.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.info(_url, _params);\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\ttitle: '正在提交'\r\n\t\t\t\t});\r\n\t\t\t\tthat.enableBtn2 = true;\r\n\t\t\t\tthat.$http.post(_url, _params).then(res => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tlet _result = res.data;\r\n\t\t\t\t\t// console.info(_result)\r\n\t\t\t\t\tif (_result.code === 200) {\r\n\t\t\t\t\t\tthat.$u.toast(\"发送成功\");\r\n\t\t\t\t\t\t// 获取详情进行替换\r\n\t\t\t\t\t\tthat.infoChange()\r\n\t\t\t\t\t} else if (_result.code === 501) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\r\n\t\t\t\t\t\t}, 800)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.enableBtn2 = false;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: _result.message,\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthat.enableBtn2 = false;\r\n\t\t\t\t\tlet msg = err.message;\r\n\t\t\t\t\t// console.log('====:',msg);\r\n\t\t\t\t\tthat.$tip.error(msg);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinfoChange() {\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tlet _url = '/hole/note/info';\r\n\t\t\t\tthat.$http.post(_url, {\r\n\t\t\t\t\tid: that.infoID\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(res, 'res')\r\n\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\tlet temporary = res.data.data;\r\n\t\t\t\t\t\t// console.log(temporary, 'temporarytemporary')\r\n\r\n\t\t\t\t\t\tlet pages = getCurrentPages()\r\n\t\t\t\t\t\tlet prevPage = pages[pages.length - 2]\r\n\t\t\t\t\t\t// console.log(prevPage, 'prevPage')\r\n\t\t\t\t\t\t// encodeURIComponent(JSON.stringify(temporary))\r\n\t\t\t\t\t\tprevPage.$vm.temporary = temporary\r\n\t\t\t\t\t\t// prevPage.$vm.getValue(temporary)\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.goBack(temporary)\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.code === 500) {\r\n\t\t\t\t\t\tthat.infoChange()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.info(\"err::\", err);\r\n\t\t\t\t\tthat.infoChange()\r\n\t\t\t\t}).finally(() => {})\r\n\t\t\t},\r\n\t\t\t/*上传图片 begin*/\r\n\t\t\t//图片上传成功回调\r\n\t\t\tuploadSuccess(data, index, lists, name) {\r\n\t\t\t\tif (data.code === 200) {\r\n\t\t\t\t\tlists[index].url = data.data.url;\r\n\t\t\t\t\tthis.fileList = lists;\r\n\t\t\t\t\tconsole.log(\"this.fileList::\", this.fileList)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuploadError(err, index, lists) {\r\n\t\t\t\t// console.log('err');\r\n\t\t\t\t// console.log(err);\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\t// console.log(lists);\r\n\t\t\t},\r\n\t\t\t//删除图片后的回调\r\n\t\t\tuploadRemove(index, lists, name) {\r\n\t\t\t\tthis.fileList = lists\r\n\t\t\t},\r\n\t\t\t/*上传图片 end*/\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.goBack()\r\n\t\t\t},\r\n\t\t\tgoBack(temporary) {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t// temporary: encodeURIComponent(JSON.stringify(temporary))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonEditorReady() {\r\n\t\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\r\n\t\t\t\t\tthis.editorCtx = res.context\r\n\t\t\t\t\tres.context.setContents({\r\n\t\t\t\t\t\thtml: this.model.content\r\n\t\t\t\t\t})\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t// 失去焦点时，获取富文本的内容\r\n\t\t\tgetContents() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.editorCtx.getContents({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.model.content = res.html;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import \"../../common/form.css\";\r\n\r\n\t.edit-body {\r\n\t\tmargin: 10rpx;\r\n\t\tpadding: 30rpx 10rpx;\r\n\t}\r\n\r\n\t#editor {\r\n\t\twidth: 100%;\r\n\t\theight: 225px;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tpadding: 5px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./write.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./write.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678758858671\n      var cssReload = require(\"C:/develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}