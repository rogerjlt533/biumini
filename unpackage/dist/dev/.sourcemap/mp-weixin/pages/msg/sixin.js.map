{"version":3,"sources":["uni-app:///main.js","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?fc33","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?9314","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?5a45","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?d1aa","uni-app:///pages/msg/sixin.vue","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?fbbc","webpack:///C:/workspace/zuosuo/shudong-master/pages/msg/sixin.vue?ccf5"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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CA,KAjFA;AAkFA,WAlFA,qBAkFA;AACA;AACA,KApFA;AAqFA;AACA,iBAtFA,2BAsFA;AACA;AACA;AACA,eADA,CACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAHA,GAGA,EAHA;;AAKA;AACA,wBANA,GAMA;AACA,2CADA;AAEA,wCAFA;AAGA,wCAHA;AAIA,2BAJA,EANA;;AAYA;AACA,sBAbA,GAaA,2BAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAJA,MAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CADA,EACA;AACA,qCAFA,CAEA;AAFA;AAIA,uBALA;;AAOA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAlDA,MAkDA;AACA;AACA;AACA;AACA,uBAHA,EAGA,GAHA;AAIA;AACA,mBA3DA,EA2DA,KA3DA,CA2DA;AACA;AACA,mBA7DA,EA6DA,OA7DA,CA6DA,cA7DA;AA8DA,6BA5EA;;AA8EA;AACA,KA5KA;AA6KA;AACA,mBA9KA,2BA8KA,QA9KA,EA8KA;AACA;AACA;AACA;AACA;AACA;AACA,gCAFA,EAEA;AACA,qBAHA;;AAKA,OANA,EAMA,IANA;AAOA,KAxLA;AAyLA,kBAzLA,0BAyLA,IAzLA,EAyLA;AACA;AACA,oBADA;;AAGA,KA7LA;AA8LA;AACA,gBA/LA,wBA+LA,IA/LA,EA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1MA;AA2MA,eA3MA,yBA2MA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBADA;AAEA,yCAFA;AAGA,8CAHA;AAIA,0BAJA;AAKA,sBALA;;AAOA,OARA;AASA;AACA;AACA;AACA;AACA;;AAEA,WAFA,MAEA;AACA;AACA;AACA,SAPA;AAQA;AACA,OAXA;AAYA,WAZA,CAYA;AACA;AACA;AACA,OAfA;AAgBA,KAhPA;AAiPA,cAjPA,wBAiPA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA;AAEA,yBAFA;;AAIA;AACA;AACA,wBADA;AAEA,+BAFA;AAGA,oBAHA;AAIA,2BAJA;AAKA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA,2BADA;AAEA,iCAFA;AAGA,4BAHA;;AAKA,WANA,MAMA;AACA;AACA;;AAEA;AACA;AACA,SA1BA;AA2BA;AACA;AACA;AACA;AACA,SA/BA;AAgCA;AACA;AACA;AACA;AACA;;AAEA,SAtCA;;AAwCA,KAnSA;AAoSA;AACA,gBArSA,wBAqSA,IArSA,EAqSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA,KAnTA;AAoTA;AACA,YArTA,oBAqTA,OArTA,EAqTA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCADA;AAEA,yBAFA;AAGA,qBAHA;AAIA,8BAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cADA;AAEA,4BAFA;AAGA,oCAHA;AAIA,sBAJA;AAKA,sCALA;;AAOA;AACA,SATA,MASA;AACA;AACA;AACA;AACA,WAHA,EAGA,GAHA;AAIA,SALA,MAKA;AACA;;AAEA;AACA,yBADA;AAEA,+BAFA;AAGA,0BAHA;;AAKA;AACA,OAzBA,EAyBA,KAzBA,CAyBA;AACA;AACA,OA3BA,EA2BA,OA3BA,CA2BA;AACA;AACA;AACA;AACA;AACA,6BADA,EACA;AACA,uBAFA;;AAIA,SAPA;AAQA,OApCA;AAqCA;AACA,KA5WA;AA6WA;AACA,QA9WA,kBA8WA;AACA;AACA;AACA,2BADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA,qBADA;;AAGA;AACA;;AAEA;AACA;AACA,qCADA;AAEA,sBAFA;AAGA,mCAHA;AAIA,+BAJA;AAKA,6BALA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,sCAFA;AAGA,wBAHA;AAIA,wCAJA;;AAMA;AACA,WARA,MAQA;AACA;AACA;AACA;AACA,aAHA,EAGA,GAHA;AAIA,WALA,MAKA;AACA;AACA;AACA,SAnBA,EAmBA,KAnBA,CAmBA;AACA;AACA,SArBA,EAqBA,OArBA,CAqBA;AACA;AACA;AACA;AACA;AACA,+BADA,EACA;AACA,yBAFA;;AAIA,WAPA;AAQA,SA9BA;AA+BA,OA7CA,EA6CA,IA7CA;AA8CA,KAxaA;AAyaA;AACA,YA1aA,oBA0aA,MA1aA,EA0aA;AACA;AACA;AACA;AACA,2BADA;;AAGA;AACA,kFADA;;AAGA,OAPA,MAOA;AACA;AACA,gBADA;;AAGA;AACA;AACA,mFADA;;AAGA;AACA,KA5bA;AA6bA;AACA,YA9bA,oBA8bA,MA9bA,EA8bA,KA9bA,EA8bA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA;AACA;AACA;AACA;;AAEA;AACA,2CADA;AAEA,kBAFA,CAEA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,mBAHA,EAGA,GAHA;AAIA,iBALA,MAKA;AACA;AACA;AACA,eAfA,EAeA,KAfA,CAeA;AACA;AACA,eAjBA,EAiBA,OAjBA,CAiBA;;AAEA,eAnBA;AAoBA;AACA,WA7BA;;AA+BA,OAhCA,MAgCA;AACA;AACA,8BADA,EACA;AACA;AACA;AACA,WAJA;;AAMA;AACA,KAzeA;AA0eA,QA1eA,kBA0eA;AACA;AACA,8BADA,EACA;AACA;AACA;AACA,SAJA;;AAMA,KAjfA,EApEA,E;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAgvC,CAAgB,sqCAAG,EAAC,C;;;;;;;;;;;ACApwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/msg/sixin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/msg/sixin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sixin.vue?vue&type=template&id=18f010d0&\"\nvar renderjs\nimport script from \"./sixin.vue?vue&type=script&lang=js&\"\nexport * from \"./sixin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sixin.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/msg/sixin.vue\"\nexport default component.exports","export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sixin.vue?vue&type=template&id=18f010d0&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-sticky/u-sticky\" */ \"@/uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    },\n    uNoticeBar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-notice-bar/u-notice-bar\" */ \"@/uview-ui/components/u-notice-bar/u-notice-bar.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.talkList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = _vm.formatMssageTime(item, index)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sixin.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<u-navbar back-text=\"\" :title=\"ajax.loadText\" :isBack='true' :imgwidth=\"imgsize\" :imgheight=\"imgsize\"\n\t\t\t:srcleft=\"srcleft\">\n\t\t</u-navbar>\n\n\t\t<u-sticky :offset-top=\"height\" :enable=\"sticky.enable\" @fixed=\"fixed\" @unfixed=\"unfixed\">\n\t\t\t<view>\n\t\t\t\t<u-notice-bar bgColor=\"#FFFFFF\" color=\"#898989\" fontSize=\"26\" mode=\"horizontal\" :list=\"listtip\">\n\t\t\t\t</u-notice-bar>\n\t\t\t</view>\n\t\t</u-sticky>\n\n\t\t<view class=\"box-1\" id=\"list-box\">\n\t\t\t<view class=\"talk-list\">\n\t\t\t\t<view v-for=\"(item,index) in talkList\" :key=\"index\">\n\t\t\t\t\t<view v-show=\"!!item.messageTime\" style=\"color: #808080; text-align: center;margin-bottom: -20rpx;\">\n\t\t\t\t\t\t{{formatMssageTime(item, index)}}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item flex_col\" :class=\" item.is_self === 1 ? 'push':'pull' \" :id=\"`msg-${item.disc}`\"\n\t\t\t\t\t\t@longtap=\"withdraw(item,index)\">\n\t\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\" class=\"pic\" @click=\"link2biu(item)\"></image>\n\t\t\t\t\t\t<block v-if=\"item.contentType==='text'\">\n\n\t\t\t\t\t\t\t<view class=\"content\">{{item.content}}</view>\n\t\t\t\t\t\t</block>\n\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t<view class=\"content_img\">\n\t\t\t\t\t\t\t\t<!-- <image :src=\"item.images[0]\"\n\t\t\t\t\t\t\t\t\t:style=\"{'width': row.msg.content.w+'px','height': row.msg.content.h+'px'}\"></image> -->\n\n\t\t\t\t\t\t\t\t<u-image @click=\"handlePreImage(item.content)\" :src=\"item.content\" mode=\"aspectFill\"\n\t\t\t\t\t\t\t\t\twidth=\"400rpx\" height=\"500rpx\">\n\t\t\t\t\t\t\t\t</u-image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</block>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\n\t\t<view class=\"szt-comment\">\n\t\t\t<!-- <view class=\"szt-comment-info\"> -->\n\t\t\t<view class=\"u-f-a\" style=\"padding: 0rpx;\">\n\n\n\t\t\t\t<!-- <textarea :show-confirm-bar=\"showconfirmbar\" v-model=\"content\" :placeholder=\"placeholder\"\n\t\t\t\t\tauto-height=\"true\" :cursor-spacing=\"8\"/> -->\n\t\t\t\t<view style=\"margin: 6rpx;width: 100%;\">\n\t\t\t\t\t<u-input :disabled=\"userInfo.priMsgStatus===0 || biu.priMsgStatus===0\" v-model=\"content\" type=\"text\"\n\t\t\t\t\t\t:border=\"true\" cursorSpacing=10 :placeholder=\"placeholder\">\n\t\t\t\t\t</u-input>\n\t\t\t\t</view>\n\t\t\t\t<view>\n\t\t\t\t\t<image :src=\"picIcon\" mode=\"aspectFill\"\n\t\t\t\t\t\tstyle=\"width: 75rpx; height: 75rpx; margin-left: 8rpx; margin-right: 12rpx;\"\n\t\t\t\t\t\t@click=\"chooseImage\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"width: 180rpx;\">\n\t\t\t\t\t<u-button type=\"primary\" @click=\"send\"\n\t\t\t\t\t\t:disabled=\"userInfo.priMsgStatus===0 || biu.priMsgStatus===0\">发送\n\t\t\t\t\t</u-button>\n\t\t\t\t</view>\n\t\t\t\t<!-- <view @click.stop=\"send\" class=\"szt-comment-submit\">\n\t\t\t\t\t确定\n\t\t\t\t</view> -->\n\t\t\t</view>\n\t\t</view>\n\n\n\t</view>\n</template>\n\n<script>\n\tlet systemInfo = uni.getSystemInfoSync();\n\timport {\n\t\tmapState\n\t} from 'vuex';\n\timport test from '@/uview-ui/libs/function/test.js'\n\timport configService from '@/common/service/config.service.js';\n\timport {\n\t\tAQ_CONTENT\n\t} from \"@/common/util/constants\"\n\texport default {\n\t\tcomputed: {\n\t\t\t...mapState({\n\t\t\t\tuserInfo: 'userInfo'\n\t\t\t}),\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshowconfirmbar: false,\n\t\t\t\tplaceholder: '发信息...',\n\t\t\t\tstatusBarHeight: systemInfo.statusBarHeight,\n\t\t\t\tsticky: {\n\t\t\t\t\tenable: true,\n\t\t\t\t},\n\t\t\t\theight: 44,\n\t\t\t\tlisttip: [\"让手书温暖你最熟悉的陌生人\"],\n\t\t\t\tsrcleft: '../../../static/treehole/my/back.png',\n\t\t\t\tpicIcon: '../../static/treehole/xinxi/sixin-pic.png',\n\t\t\t\timgsize: 46,\n\t\t\t\ttalkList: [],\n\t\t\t\tajax: {\n\t\t\t\t\trows: 20, //每页数量\n\t\t\t\t\tpage: 1, //页码\n\t\t\t\t\tflag: true, // 请求开关\n\t\t\t\t\tloading: true, // 加载中\n\t\t\t\t\tloadText: '正在获取消息',\n\t\t\t\t\tmore: 1\n\t\t\t\t},\n\t\t\t\tlimitType: ['png', 'jpg', 'jpeg', 'webp', 'gif', 'image'],\n\t\t\t\theader: {\n\t\t\t\t\t'token': uni.getStorageSync(\"token\")\n\t\t\t\t},\n\t\t\t\taction: configService.apiUrl + '/upload',\n\t\t\t\tcontent: '',\n\t\t\t\tbiu: {\n\t\t\t\t\tpriMsgStatus: 0\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.getHistoryMsg();\n\t\t\t});\n\t\t},\n\t\tonLoad(event) {\n\t\t\tthis.height = this.height + this.statusBarHeight - 1;\n\n\t\t\tlet _params = event.params || event.payload;\n\t\t\ttry {\n\t\t\t\tvar _detail = JSON.parse(decodeURIComponent(_params));\n\t\t\t} catch (error) {\n\t\t\t\tvar _detail = JSON.parse(_params);\n\t\t\t}\n\t\t\tthis.biu = _detail;\n\t\t\t// console.info(\"sixin::onload:6.1:\", this.biu.priMsgStatus);\n\t\t\t// console.info(\"sixin::onload:6.1:\", this.userInfo.priMsgStatus)\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.getFirstMsg();\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t}, 1000)\n\t\t},\n\t\tonPageScroll(e) {\n\t\t\tif (e.scrollTop < 5) {\n\t\t\t\tthis.getHistoryMsg();\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tformatMssageTime(record, idx) {\n\t\t\t\tif (idx === 0) {\n\t\t\t\t\treturn record.messageTime\n\t\t\t\t} else {\n\t\t\t\t\tif (this.talkList[idx].messageTime === this.talkList[idx - 1].messageTime) {\n\t\t\t\t\t\treturn \"\"\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn record.messageTime\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetFirstMsg() {\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: \"正在加载\"\n\t\t\t\t});\n\t\t\t\tthis.ajax.page = 1;\n\t\t\t\t/*szt*/\n\t\t\t\tconst that = this;\n\t\t\t\tconst _url = \"/user/friend/message/list\";\n\t\t\t\tthat.$http.post(_url, {\n\t\t\t\t\tfriend: that.biu.friend,\n\t\t\t\t\tpage: that.ajax.page,\n\t\t\t\t\tsize: that.ajax.rows,\n\t\t\t\t\tread: 2\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet _result = res.data;\n\t\t\t\t\tconsole.info(\"历史信息111::\", _result.data.list);\n\t\t\t\t\tif (_result.code === 200) {\n\t\t\t\t\t\tthat.ajax.more = _result.data.more;\n\t\t\t\t\t\tdata = _result.data.list;\n\t\t\t\t\t\tdata.reverse();\n\t\t\t\t\t\t// 获取待滚动元素选择器，解决插入数据后，滚动条定位时使用\n\t\t\t\t\t\tlet selector = '';\n\n\t\t\t\t\t\tselector = `#msg-${data[data.length-1].disc}`;\n\n\t\t\t\t\t\t// 将获取到的消息数据合并到消息数组中\n\t\t\t\t\t\tthat.talkList = [...data, ...that.talkList];\n\n\t\t\t\t\t\t// 数据挂载后执行，不懂的请自行阅读 Vue.js 文档对 Vue.nextTick 函数说明。\n\t\t\t\t\t\tthat.$nextTick(() => {\n\t\t\t\t\t\t\t// 设置当前滚动的位置\n\t\t\t\t\t\t\tthat.setPageScrollTo(selector);\n\n\t\t\t\t\t\t\tthat.hideLoadTips(true);\n\n\t\t\t\t\t\t\tif (_result.data.more === 0) {\n\t\t\t\t\t\t\t\t// 当前消息数据条数小于请求要求条数时，则无更多消息，不再允许请求。\n\t\t\t\t\t\t\t\t// 可在此处编写无更多消息数据时的逻辑\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.ajax.page++;\n\n\t\t\t\t\t\t\t\t// 延迟 200ms ，以保证设置窗口滚动已完成\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthat.ajax.flag = true;\n\t\t\t\t\t\t\t\t}, 200)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (_result.code === 501) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\n\t\t\t\t\t\t}, 800)\n\t\t\t\t\t}\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tlet msg = err.message\n\t\t\t\t}).finally(() => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t});\n\t\t\t\t/*szt end*/\n\t\t\t},\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack({\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tfixed() {\n\t\t\t\t// this.$u.toast(\"触发吸顶\")\n\t\t\t},\n\t\t\tunfixed() {\n\t\t\t\t// this.$u.toast(\"取消吸顶\")\n\t\t\t},\n\t\t\t// 获取历史消息\n\t\t\tgetHistoryMsg() {\n\t\t\t\tconst that = this;\n\t\t\t\tif (!that.ajax.flag) {\n\t\t\t\t\treturn; //\n\t\t\t\t}\n\n\t\t\t\t// 此处用到 ES7 的 async/await 知识，为使代码更加优美。不懂的请自行学习。\n\t\t\t\tlet get = async () => {\n\t\t\t\t\tthat.hideLoadTips();\n\t\t\t\t\tthat.ajax.flag = false;\n\t\t\t\t\tlet data = [];\n\n\t\t\t\t\t/*szt*/\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tfriend: that.biu.friend,\n\t\t\t\t\t\tpage: that.ajax.page,\n\t\t\t\t\t\tsize: that.ajax.rows,\n\t\t\t\t\t\tread: 2\n\t\t\t\t\t};\n\t\t\t\t\t// console.info(\"历史信息2params222::\", params);\n\t\t\t\t\tconst _url = \"/user/friend/message/list\";\n\t\t\t\t\tthat.$http.post(_url, params).then(res => {\n\t\t\t\t\t\tlet _result = res.data;\n\t\t\t\t\t\t// console.info(\"历史信息2222::\", _result);\n\t\t\t\t\t\tif (_result.code === 200) {\n\t\t\t\t\t\t\tthat.ajax.more = _result.data.more;\n\t\t\t\t\t\t\tdata = _result.data.list;\n\t\t\t\t\t\t\tdata.reverse();\n\n\n\t\t\t\t\t\t\t// 将获取到的消息数据合并到消息数组中\n\t\t\t\t\t\t\tthat.talkList = [...data, ...that.talkList];\n\n\t\t\t\t\t\t\t// 获取待滚动元素选择器，解决插入数据后，滚动条定位时使用\n\t\t\t\t\t\t\tlet selector = '';\n\n\t\t\t\t\t\t\tif (that.ajax.page > 1) {\n\t\t\t\t\t\t\t\t// 非第一页，则取历史消息数据的第一条信息元素\n\t\t\t\t\t\t\t\tselector = `#msg-${that.talkList[0].disc}`;\n\t\t\t\t\t\t\t\t// console.log(1111111111111);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 第一页，则取当前消息数据的最后一条信息元素\n\t\t\t\t\t\t\t\tselector = `#msg-${data[data.length-1].disc}`;\n\t\t\t\t\t\t\t\t// console.log(2222222222222);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log(selector);\n\n\t\t\t\t\t\t\tthat.$nextTick(() => {\n\t\t\t\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t\t\t\tscrollTop: 2000000, //滚动到页面的目标位置（单位px）\n\t\t\t\t\t\t\t\t\tduration: 0 //滚动动画的时长，默认300ms，单位 ms\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t// // 数据挂载后执行，不懂的请自行阅读 Vue.js 文档对 Vue.nextTick 函数说明。\n\t\t\t\t\t\t\t// that.$nextTick(() => {\n\n\t\t\t\t\t\t\t//   // 设置当前滚动的位置\n\t\t\t\t\t\t\t//   that.setPageScrollTo(selector);\n\n\t\t\t\t\t\t\t//   that.hideLoadTips(true);\n\n\t\t\t\t\t\t\t//   if (data.length < that.ajax.rows) {\n\t\t\t\t\t\t\t//     // 当前消息数据条数小于请求要求条数时，则无更多消息，不再允许请求。\n\t\t\t\t\t\t\t//     // 可在此处编写无更多消息数据时的逻辑\n\t\t\t\t\t\t\t//   } else {\n\t\t\t\t\t\t\t//     that.ajax.page++;\n\n\t\t\t\t\t\t\t//     // 延迟 200ms ，以保证设置窗口滚动已完成\n\t\t\t\t\t\t\t//     setTimeout(() => {\n\t\t\t\t\t\t\t//       that.ajax.flag = true;\n\t\t\t\t\t\t\t//     }, 200)\n\t\t\t\t\t\t\t//   }\n\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t} else if (_result.code === 501) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\n\t\t\t\t\t\t\t}, 800)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tlet msg = err.message\n\t\t\t\t\t}).finally(() => {});\n\t\t\t\t\t/*szt end*/\n\t\t\t\t};\n\t\t\t\tget();\n\t\t\t},\n\t\t\t// 设置页面滚动位置\n\t\t\tsetPageScrollTo(selector) {\n\t\t\t\tconst that = this;\n\t\t\t\tlet view = uni.createSelectorQuery().in(this).select(selector);\n\t\t\t\tview.boundingClientRect((res) => {\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t// scrollTop: res.top - 30, // -30 为多显示出大半个消息的高度，示意上面还有信息。\n\t\t\t\t\t\tscrollTop: that.height, // -30 为多显示出大半个消息的高度，示意上面还有信息。\n\t\t\t\t\t\tduration: 0\n\t\t\t\t\t});\n\t\t\t\t}).exec();\n\t\t\t},\n\t\t\thandlePreImage(_url) {\n\t\t\t\tuni.previewImage({\n\t\t\t\t\turls: [_url]\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 隐藏加载提示\n\t\t\thideLoadTips(flag) {\n\t\t\t\t// if (flag) {\n\t\t\t\t// \tthis.ajax.loadText = this.biu.name;\n\t\t\t\t// \tsetTimeout(() => {\n\t\t\t\t// \t\t// this.ajax.loading = false;\n\t\t\t\t// \t}, 300);\n\t\t\t\t// } else {\n\t\t\t\t// \t// this.ajax.loading = true;\n\t\t\t\t// \tthis.ajax.loadText = '正在获取消息';\n\t\t\t\t// }\n\t\t\t\tthis.ajax.loadText = this.biu.name;\n\t\t\t},\n\t\t\tchooseImage() {\n\n\t\t\t\tif (this.userInfo.priMsgStatus === 0) {\n\t\t\t\t\tthis.$u.toast(\"请开启私信开关\");\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (this.biu.priMsgStatus === 0) {\n\t\t\t\t\tthis.$u.toast(\"对方已关闭私信\");\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tlet chooseFile = null;\n\t\t\t\tchooseFile = new Promise((resolve, reject) => {\n\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\t\t\tsuccess: resolve,\n\t\t\t\t\t\tfail: reject\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tchooseFile.then(res => {\n\t\t\t\t\t\tlet file = null;\n\t\t\t\t\t\tres.tempFiles.map((val, index) => {\n\t\t\t\t\t\t\t// 检查文件后缀是否允许，如果不在this.limitType内，就会返回false\n\t\t\t\t\t\t\tif (!this.checkFileExt(val)) {\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.fileTemp = val.path\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.uploadFile();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.info(\"error::\", error)\n\t\t\t\t\t\t// this.$emit('on-choose-fail', error);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tuploadFile() {\n\t\t\t\tif (!this.fileTemp) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// console.info(\"this.action:::\", this.action) \n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: \"图片上传中...\"\n\t\t\t\t});\n\t\t\t\tconst that = this;\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl: that.action,\n\t\t\t\t\tfilePath: that.fileTemp,\n\t\t\t\t\tname: \"file\",\n\t\t\t\t\theader: that.header,\n\t\t\t\t\tsuccess: res => {\n\n\t\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\t\t// 判断是否json字符串，将其转为json格式\n\t\t\t\t\t\tlet data = that.$u.test.jsonString(res.data) ? JSON.parse(res.data) : res.data;\n\t\t\t\t\t\tif (![200, 201, 204].includes(res.statusCode)) {\n\t\t\t\t\t\t\tthat.$u.toast('上传失败，请重试');\n\t\t\t\t\t\t\tthat.fileUrl = \"\"\n\t\t\t\t\t\t} else if (data.code === 503) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\t\ttitle: data.message,\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 上传成功 \n\t\t\t\t\t\t\tconsole.info(\"上传成功::\", data);\n\n\t\t\t\t\t\t\tthat.send_img(data.data.url)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: e => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tthat.$u.toast('上传失败，请重试');\n\t\t\t\t\t\tthat.fileUrl = \"\"\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: res => {\n\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t\t// this.uploading = false;\n\t\t\t\t\t\t// this.uploadFile(index + 1);\n\t\t\t\t\t\t// this.$emit('on-change', res, index, this.lists, this.index);\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 判断文件后缀是否允许\n\t\t\tcheckFileExt(file) {\n\t\t\t\t// 检查是否在允许的后缀中\n\t\t\t\tlet noArrowExt = false;\n\t\t\t\t// 获取后缀名\n\t\t\t\tlet fileExt = '';\n\t\t\t\tconst reg = /.+\\./;\n\t\t\t\tfileExt = file.path.replace(reg, \"\").toLowerCase();\n\t\t\t\t// 使用数组的some方法，只要符合limitType中的一个，就返回true\n\t\t\t\tnoArrowExt = this.limitType.some(ext => {\n\t\t\t\t\t// 转为小写\n\t\t\t\t\treturn ext.toLowerCase() === fileExt;\n\t\t\t\t});\n\t\t\t\tif (!noArrowExt) this.$u.toast(`不允许选择${fileExt}格式的文件`);\n\t\t\t\treturn noArrowExt;\n\t\t\t},\n\t\t\t// 发送图片\n\t\t\tsend_img(_imgUrl) {\n\t\t\t\t// uni.showLoading({\n\t\t\t\t// \ttitle: '正在发送'\n\t\t\t\t// });\n\t\t\t\t// setTimeout(() => {\n\t\t\t\t// uni.hideLoading();\n\n\t\t\t\t// 将当前发送信息 添加到消息列表。\n\t\t\t\tlet data = {\n\t\t\t\t\t'friend': this.biu.friend,\n\t\t\t\t\t'images': _imgUrl,\n\t\t\t\t\t'content': '',\n\t\t\t\t\t'contentType': 'image'\n\t\t\t\t};\n\t\t\t\tconsole.info(\"requestParam::\", data);\n\t\t\t\tconst that = this;\n\t\t\t\tconst _url = '/user/friend/message/send';\n\t\t\t\tthat.$http.post(_url, data).then(res => {\n\t\t\t\t\tlet _result = res.data;\n\t\t\t\t\tif (_result.code === 200) {\n\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\tcontent: _imgUrl,\n\t\t\t\t\t\t\tid: new Date().getTime(),\n\t\t\t\t\t\t\tis_self: 1,\n\t\t\t\t\t\t\timage: that.userInfo.image\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthat.talkList.push(data);\n\t\t\t\t\t} else if (_result.code === 501) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\n\t\t\t\t\t\t}, 800)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// that.$u.toast(_result.message)\n\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\ttitle: data.message,\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tthat.$u.toast(err.message)\n\t\t\t\t}).finally(() => {\n\t\t\t\t\tthat.$nextTick(() => {\n\t\t\t\t\t\t// 清空内容框中的内容\n\t\t\t\t\t\tthat.content = '';\n\t\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t\tscrollTop: 999999, // 设置一个超大值，以保证滚动条滚动到底部\n\t\t\t\t\t\t\tduration: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\t// }, 1000);\n\t\t\t},\n\t\t\t// 发送信息\n\t\t\tsend() {\n\t\t\t\tif (!this.content) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入有效的内容',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在发送'\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\t// 将当前发送信息 添加到消息列表。\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\t'friend': this.biu.friend,\n\t\t\t\t\t\t'images': '',\n\t\t\t\t\t\t'content': this.content,\n\t\t\t\t\t\t'contentType': 'text',\n\t\t\t\t\t\t'messageTime': '刚刚'\n\t\t\t\t\t};\n\t\t\t\t\tconsole.info(\"requestParam::\", data);\n\t\t\t\t\tconst that = this;\n\t\t\t\t\tconst _url = '/user/friend/message/send';\n\t\t\t\t\tthat.$http.post(_url, data).then(res => {\n\t\t\t\t\t\tlet _result = res.data;\n\t\t\t\t\t\tconsole.info(\"_result:::::::::\", _result);\n\t\t\t\t\t\tif (_result.code === 200) {\n\t\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\tid: new Date().getTime(),\n\t\t\t\t\t\t\t\tis_self: 1,\n\t\t\t\t\t\t\t\timage: that.userInfo.image\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthat.talkList.push(data);\n\t\t\t\t\t\t} else if (_result.code === 501) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\n\t\t\t\t\t\t\t}, 800)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$u.toast(_result.message)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tthat.$u.toast(err.message)\n\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\tthat.$nextTick(() => {\n\t\t\t\t\t\t\t// 清空内容框中的内容\n\t\t\t\t\t\t\tthat.content = '';\n\t\t\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t\t\tscrollTop: 999999, // 设置一个超大值，以保证滚动条滚动到底部\n\t\t\t\t\t\t\t\tduration: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}, 1000);\n\t\t\t},\n\t\t\t//点击头像，跳转biu信息页\n\t\t\tlink2biu(record) {\n\t\t\t\tconsole.info(\"sixin::2::biu::\", record);\n\t\t\t\tif (record.is_self === 1) {\n\t\t\t\t\tlet _params = {\n\t\t\t\t\t\tfriend: record.id\n\t\t\t\t\t};\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"../user/biu?params=\" + encodeURIComponent(JSON.stringify(_params))\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tlet _params = {\n\t\t\t\t\t\t...this.biu\n\t\t\t\t\t};\n\t\t\t\t\t// _params.communicate = record.communicateInfo.communicate;\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"../user/biu?params=\" + encodeURIComponent(JSON.stringify(_params))\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//撤回\n\t\t\twithdraw(record, index) {\n\t\t\t\t// console.log(\"record: \" + JSON.stringify(record));\n\t\t\t\tconst that = this;\n\t\t\t\tif (!!record.is_self) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '是否撤回消息？',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t//调接口\n\t\t\t\t\t\t\t\tlet _url = \"/user/friend/message/cancel\";\n\n\t\t\t\t\t\t\t\tthat.$http.post(_url, {\n\t\t\t\t\t\t\t\t\tmessageId: record.messageId\n\t\t\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\t\t\tlet _result = res.data;\n\t\t\t\t\t\t\t\t\tconsole.info(\"_result:::::::::\", res);\n\t\t\t\t\t\t\t\t\tif (_result.code === 200) {\n\t\t\t\t\t\t\t\t\t\tthat.talkList.splice(index, 1)\n\t\t\t\t\t\t\t\t\t} else if (_result.code === 501) {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\tthat.$store.dispatch(\"Logout\")\n\t\t\t\t\t\t\t\t\t\t}, 800)\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthat.$u.toast(_result.message)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\t\t\t\tthat.$u.toast(err.message)\n\t\t\t\t\t\t\t\t}).finally(() => {\n\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\tdata: record.content, //要被复制的内容\n\t\t\t\t\t\tsuccess: () => { //复制成功的回调函数 \n\t\t\t\t\t\t\tthis.$u.toast(\"复制成功\")\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcopy() {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: 'record.content', //要被复制的内容\n\t\t\t\t\tsuccess: () => { //复制成功的回调函数 \n\t\t\t\t\t\tthis.$u.toast(\"复制成功\")\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t@import \"../../common/sixin-list.scss\";\n\n\n\t.szt-comment {\n\t\tfont-size: 30rpx;\n\t\tz-index: 999;\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tz-index: 100;\n\t\twidth: 100%;\n\t\tbackground-color: white;\n\t\tpadding: 8rpx;\n\t\tborder-top: 1px solid #d4d4d4;\n\t\t// border: 1px solid firebrick;\n\t}\n\n\t.szt-comment-info {\n\t\tfont-size: 30rpx;\n\t\tposition: relative;\n\t}\n\n\t.szt-comment-info textarea {\n\t\twidth: 84%;\n\t\tdisplay: inline-block;\n\t\tbackground-color: rgba(232, 232, 232, 0.57);\n\t\tpadding: 10rpx;\n\t\tfont-size: 30rpx;\n\t}\n\n\t.szt-comment-submit {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 120rpx;\n\t\theight: 70rpx;\n\t\tdisplay: inline-block;\n\t\tcolor: #FFFFFF;\n\t\tmargin-top: 10rpx;\n\t\tfont-weight: bold;\n\t\tpadding: 10rpx 4%;\n\t\tbackground-color: #AE9F82;\n\t\tborder-radius: 10rpx;\n\t\tborder: 1rpx solid #AE9F82;\n\t}\n\n\n\n\t.box-1 {\n\t\tz-index: 0;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tpadding-bottom: 100rpx;\n\t\tbox-sizing: content-box;\n\n\t\t/* 兼容iPhoneX */\n\t\tmargin-bottom: 0;\n\t\tmargin-bottom: constant(safe-area-inset-bottom);\n\t\tmargin-bottom: env(safe-area-inset-bottom);\n\n\t\t.content {\n\t\t\tmargin: 8rpx 0;\n\t\t\tfont-size: 30rpx;\n\t\t}\n\n\t\t.content_img {\n\t\t\tjustify-content: flex-end;\n\t\t\tmargin: 8rpx 26rpx;\n\t\t\t// border: 1px solid fuchsia;\n\t\t\tpadding-top: 0 !important;\n\t\t}\n\t}\n\n\t.box-2 {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tbottom: 0;\n\t\theight: auto;\n\t\tz-index: 2;\n\t\tborder-top: #e5e5e5 solid 1px;\n\t\tbox-sizing: content-box;\n\t\tbackground-color: #F3F3F3;\n\n\t\t/* 兼容iPhoneX */\n\t\tpadding-bottom: 0;\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\n\t\t>view {\n\t\t\tpadding: 0 20rpx;\n\t\t\theight: 100rpx;\n\t\t}\n\n\t\t.content {\n\t\t\tbackground-color: #fff;\n\t\t\tmargin-right: 20rpx;\n\t\t\theight: 80rpx;\n\t\t\tpadding: 0 20rpx;\n\t\t\tborder-radius: 10rpx;\n\t\t\tfont-size: 32rpx;\n\t\t}\n\n\t\t.send {\n\t\t\tbackground-color: #42b983;\n\t\t\tcolor: #fff;\n\t\t\theight: 64rpx;\n\t\t\tmargin-left: 20rpx;\n\t\t\tborder-radius: 32rpx;\n\t\t\tpadding: 0;\n\t\t\twidth: 120rpx;\n\t\t\tline-height: 62rpx;\n\n\t\t\t&:active {\n\t\t\t\tbackground-color: #5fc496;\n\t\t\t}\n\t\t}\n\t}\n\n\t.talk-list {\n\t\theight: auto !important;\n\t\tpadding-bottom: 20rpx;\n\n\t\t/* 消息项，基础类 */\n\t\t.item {\n\t\t\tpadding: 20rpx 20rpx 0 20rpx;\n\t\t\talign-items: flex-start;\n\t\t\talign-content: flex-start;\n\t\t\tcolor: #333;\n\n\t\t\t.pic {\n\t\t\t\twidth: 92rpx;\n\t\t\t\theight: 92rpx;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tborder: #fff solid 1px;\n\t\t\t}\n\n\t\t\t.content {\n\t\t\t\tpadding: 20rpx;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tmax-width: 500rpx;\n\t\t\t\tword-break: break-all;\n\t\t\t\tline-height: 52rpx;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t/* 收到的消息 */\n\t\t\t&.pull {\n\t\t\t\t.content {\n\t\t\t\t\tcolor: #353E4F;\n\t\t\t\t\tmargin-left: 32rpx;\n\t\t\t\t\tbackground-color: #F5F5F5;\n\n\t\t\t\t\t&::after {\n\t\t\t\t\t\tcontent: '';\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\tborder-top: 16rpx solid transparent;\n\t\t\t\t\t\tborder-bottom: 16rpx solid transparent;\n\t\t\t\t\t\tborder-right: 20rpx solid #fff;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 30rpx;\n\t\t\t\t\t\tleft: -18rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* 发出的消息 */\n\t\t\t&.push {\n\t\t\t\t/* 主轴为水平方向，起点在右端。使不修改DOM结构，也能改变元素排列顺序 */\n\t\t\t\tflex-direction: row-reverse;\n\n\t\t\t\t.content {\n\t\t\t\t\tcolor: #FFFFFB;\n\t\t\t\t\tmargin-right: 32rpx;\n\t\t\t\t\tbackground-color: #B7AC98;\n\n\t\t\t\t\t&::after {\n\t\t\t\t\t\tcontent: '';\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\tborder-top: 16rpx solid transparent;\n\t\t\t\t\t\tborder-bottom: 16rpx solid transparent;\n\t\t\t\t\t\tborder-left: 20rpx solid #B7AC98;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 30rpx;\n\t\t\t\t\t\tright: -18rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sixin.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sixin.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676357798112\n      var cssReload = require(\"C:/develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}