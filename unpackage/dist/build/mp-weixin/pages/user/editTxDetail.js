(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/editTxDetail"],{3023:function(e,t,o){"use strict";(function(e){o("66ba");n(o("66fd"));var t=n(o("7340"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("543d")["createPage"])},"44c9":function(e,t,o){"use strict";o.r(t);var n=o("d63c"),i=o.n(n);for(var u in n)"default"!==u&&function(e){o.d(t,e,(function(){return n[e]}))}(u);t["default"]=i.a},"64f8":function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return u})),o.d(t,"a",(function(){return n}));var n={uNavbar:function(){return o.e("uview-ui/components/u-navbar/u-navbar").then(o.bind(null,"2122"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-input/u-input")]).then(o.bind(null,"7fd0"))},uForm:function(){return o.e("uview-ui/components/u-form/u-form").then(o.bind(null,"ab69"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"b773"))},uButton:function(){return o.e("uview-ui/components/u-button/u-button").then(o.bind(null,"5352"))},uActionSheet:function(){return o.e("uview-ui/components/u-action-sheet/u-action-sheet").then(o.bind(null,"f997"))}},i=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.tongxinAcitonSheetShow=!0})},u=[]},7340:function(e,t,o){"use strict";o.r(t);var n=o("64f8"),i=o("44c9");for(var u in i)"default"!==u&&function(e){o.d(t,e,(function(){return i[e]}))}(u);o("d2a9");var a,r=o("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"b2c0d980",null,!1,n["a"],a);t["default"]=c.exports},d2a9:function(e,t,o){"use strict";var n=o("f755"),i=o.n(n);i.a},d63c:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o("03e9"));o("26cb");function i(e){return e&&e.__esModule?e:{default:e}}var u={components:{},computed:{},data:function(){return{srcleft:"../../../static/treehole/my/back.png",mapImg:"../../static/treehole/zhuce-dingwei.png",imgsize:46,inputAlign:"right",labelPosition:"left",errorType:["message"],rules:{},model:{},tongxinList:[{text:"邮寄信件"},{text:"E-mail"},{text:"不限"}],tongxinAcitonSheetShow:!1,btnLeftStyle:{border:"1rpx solid #AE9F82","background-color":"#FFFFFF",color:"#AE9F82 !important",width:"200rpx"},btnRightStyle:{border:"1rpx solid #AE9F82","background-color":"#AE9F82",color:"#FFFFFF !important",width:"200rpx"}}},onLoad:function(e){var t=e.params||e.payload;try{var o=JSON.parse(decodeURIComponent(t))}catch(n){o=JSON.parse(t)}this.model=o},onReady:function(){},methods:{tongxinAcitonSheetCallback:function(t){e.hideKeyboard(),this.model.communicates.value=t+1,this.model.communicates.tag=this.tongxinList[t].text},customCheck:function(e){if(1===e&&(!this.model.username||!this.model.address||!this.model.zipcode))return this.$u.toast("请完善邮寄信息！"),!1;if(2===e&&!this.model.email)return this.$u.toast("请填写E-mail地址！"),!1;if(3===e){if(!this.model.username||!this.model.address||!this.model.zipcode)return this.$u.toast("请完善邮寄信息！"),!1;if(!this.model.email)return this.$u.toast("请填写E-mail地址！"),!1}return!0},submit:function(){var t=this;if(t.customCheck(t.model.communicates.value)){if(1===t.model.communicates.value||3===t.model.communicates.value){if(!t.model.username)return void t.$u.toast("请输入真实姓名");if(t.model.phone){if(!n.default.mobile(t.model.phone)&&!n.default.landline(t.model.phone))return t.$u.toast("输入正确的手机号或者座机号"),!1}else;if(!t.model.address)return void t.$u.toast("请输入详细地址");if(!t.model.zipcode)return void t.$u.toast("请输入邮政编码")}if(2===t.model.communicates.value||3===t.model.communicates.value){if(!t.model.email)return void t.$u.toast("请输入E-mail");if(!n.default.email(t.model.email))return t.$u.toast("E-mail格式错误！"),!1}var o="/my/update/info",i={method:"username,phone,address,street,email,communicate,zipcode",username:t.model.username,phone:t.model.phone,address:t.model.address,street:t.model.street,zipcode:t.model.zipcode,email:t.model.email,communicates:t.model.communicates.value};e.showLoading({mask:!0,title:"正在提交中..."}),t.$http.post(o,i).then((function(o){e.hideLoading(),200===o.data.code?(t.$store.dispatch("setUserinfo",t.model),t.goBack()):501===o.data.code?setTimeout((function(){e.hideLoading(),t.$store.dispatch("Logout")}),800):503===o.data.code?e.showToast({icon:"error",title:o.data.message,duration:3e3}):t.$u.toast(o.data.message)})).catch((function(o){e.hideLoading();var n=o.message;t.$tip.error(n)})).finally((function(){}))}},cancel:function(){this.goBack()},goBack:function(){e.navigateBack({})},toMap:function(){var t=this;e.chooseLocation({success:function(e){console.log("位置名称："+e.name),console.log("详细地址："+e.address),t.model.address=e.address,t.model.street=e.name}})}}};t.default=u}).call(this,o("543d")["default"])},f755:function(e,t,o){}},[["3023","common/runtime","common/vendor"]]]);